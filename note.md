# http & https & tcp/ip 

- *** HTTP （ HyperText Transfer Protocol，超文本传输协议 ***
- https://juejin.im/entry/587222418d6d810058929f55

- http 是Tcp / IP协议族的子集，tcp / ip协议族分为四层.
    【 发送端 ： 应用层(http层) -> 传输层（TCP层）-> 网络层（IP层）-> 链路层（网络层/以太网硬件）】
    【 接收端 ： 链路层 -> 网络层 -> 传输层 -> 应用层 】

- 1.应用层：
    应用层一般是我们编写的应用程序，其决定了向用户提供的应用服务。应用层可以通过系统调用与传输层进行通信。
    处于应用层的协议非常多，比如：FTP（File Transfer Protocol，文件传输协议）、 DNS（Domain Name       System，域名系统）和我们本章讨论的HTTP （ HyperText Transfer Protocol，超文本传输协议）等。

- 2.传输层：
    传输层通过系统调用向应用层提供处于网络连接中的两台计算机之间的数据传输功能。
    在传输层有两个性质不同的协议：TCP（Transmission Control Protocol ，传输控制协议）和UDP（User Data  Protocol，用户数据报协议）。

- 3.网络层：
    网络层用来处理在网络上流动的数据包，数据包是网络传输的最小数据单位。该层规定了通过怎样的路径（传输路线）到达 对方计算机，并把数据包传输给对方。
4.链路层：
    链路层用来处理连接网络的硬件部分，包括控制操作系统、硬件设备驱动、NIC（Network Interface Card ，网络适 配器）以及光纤等物理可见部分。硬件上的范畴均在链路层的作用范围之内。

- TCP协议三次握手的描述如下：

    从上面的介绍可知，传输层协议主要有两个：TCP协议和UDP协议。 TCP协议相对于UDP协议的特点是：TCP协议提供面向连  接、字节流和可靠的传输。
    使用TCP协议进行通信的双方必须先建立连接，然后才能开始传输数据。TCP 连接是全双工的，也就是说双方的数据读写可以通过一个连接进行。为了确保连接双方可靠性，在双方建立连接时，TCP协议采用了三次握手（Three - way handshaking ）策略。

    第一次握手：客户端发送带有SYN标志的连接请求报文段，然后进入 SYN_SEND状态，等待服务端的确认。

    第二次握手：服务端接收到客户端的SYN报文段后，需要发送 ACK信息对这个SYN报文段进行确认。同时，还要发送自己的SYN 请求信息。服务端会将上述的信息放到一个报文段（SYN + ACK报文段）中，一并发送给客户端，此时服务端将会进入SYN_RECV 状态。

    第三次握手：客户端接收到服务端的SYN + ACK报文段后，会向服务端发送 ACK确认报文段，这个报文段发送完毕后，客户端和服务端都进入ESTABLISHED状态，完成TCP 三次握手。

    当三次握手完成后，TCP协议会为连接双方维持连接状态。为了保证数据传输成功，接收端在接收到数据包后必须发送ACK 报文作为确认。如果在指定的时间内（这个时间称为重新发送超时时间），发送端没有接收到接收端的ACK报文，那么就会重发超时的数据。

- *** HTTPS（Hyper Text Transfer Protocol over Secure Socket Layer），是以安全为目标的HTTP通道 ***
- https://juejin.im/post/59e4c02151882578d02f4aca

    HTTPS（全称：Hyper Text Transfer Protocol over Secure Socket Layer），是以安全为目标的HTTP通道，简单讲是HTTP的安全版。即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。 现在它被广泛用于万维网上安全敏感的通讯，例如交易支付方面。

- http & https 的区别
    1. HTTP 是明文传输，HTTPS 通过 SSL\TLS 进行了加密
    2. HTTP 的端口号是 80，HTTPS 是 443
    3. HTTPS 需要到 CA 申请证书，一般免费证书很少，需要交费
    4. HTTPS 的连接很简单，是无状态的；HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 HTTP 协议安全。
- 为什么要使用https？
    1. 建立一个信息安全通道，来保证数据传输的安全
    2. 确认网站的真实性，防止钓鱼网站

- http 请求的报文字段：
- https://juejin.im/post/5af557a3f265da0b9265a498#heading-20



# JS垃圾回收机制 【 Garbage Collection 】
- https://juejin.im/post/5a6b3fcaf265da3e2c385375

- 什么是内存泄漏？
- https://www.ituring.com.cn/book/1460
    内存泄漏（Memory Leak）是指程序中己动态分配的堆内存由于某种原因程序未释放或无法释放，造成系统内存的浪费，导致程序运行速度减慢甚至系统崩溃等严重后果。

    1. 什么是循环引用？
    2. Garbage Collection是什么？它是怎么工作的？
    3. 为什么引用计数算法将会导致内存无法释放？
    4. JavaScript（或者说JavaScript引擎）还有多少垃圾回收算法?

- 内存的必备的基础概念
    堆(HEAP)是用关于动态存放对象的内存空间 ,而对象在JavaScript里面是引用类型.
    mutator，这个词意思晦涩，在GC里面代表应用程序本身，我们暂且理解为mutator需要大量的内存。
    allocator，mutator将需要内存的申请提交到此，allocator负责从堆中调取足够内存空间供mutator使用。

- 常用的垃圾回收算法
- 1. 引用计数法：
    让所有对象实现记录下有多少“程序”在引用自己，让各对象都知道自己的“人气指数”。
    回收被引用数为0的内存。
    优势：
        可即刻回收垃圾，当被引用数值为0时，对象马上会把自己作为空闲空间连到空闲链表上，也就是说。在变成垃圾的时候就立刻被回收。
        因为是即时回收,那么‘程序’不会暂停去单独使用很长一段时间的GC，那么最大暂停时间很短。
        不用去遍历堆里面的所有活动对象和非活动对象

    劣势：
        计数器需要占很大的位置，因为不能预估被引用的上限，打个比方，可能出现32位即2的32次方个对象同时引用一个对象，那么计数器就需要32位。
        *** 最大的劣势是无法解决循环引用无法回收的问题 这就是前文中IE9之前出现的问题 ***
    注：该算法已经逐渐被 ‘标记-清除’ 算法替代，在V8引擎里面，使用最多的就是 标记-清除算法。

- 2. 标记清除算法：
    主要将GC的垃圾回收过程分为两个阶段：
    1. 标记阶段：把所有活动对象做上标记。
    2. 清除阶段：把没有标记（也就是非活动对象）销毁。

    标记阶段：
        根可以理解成我们的全局作用域，GC从全局作用域的变量，沿作用域逐层往里遍历（对，是深度遍历），当遍历到堆中对象时，说明该对象被引用着，则打上一个标记，继续递归遍历（因为肯定存在堆中对象引用另一个堆中对象），直到遍历到最后一个（最深的一层作用域）节点。
    标记清除阶段：
        又要遍历，这次是遍历整个堆，回收没有打上标记的对象。

    优势：
        实现简单，打标记也就是打或者不打两种可能，所以就一位二进制位就可以表示
        解决了循环引用问题

    缺点：
        造成碎片化（有点类似磁盘的碎片化）
        再分配时遍次数多，如果一直没有找到合适的内存块大小，那么会遍历空闲链表(保存堆中所有空闲地址空间的地址形成的链表）一直遍历到尾端
    注：这种GC方式是一个定时运行的任务，也就是说当程序运行一段时间后，统一GC。
    
- 3. 复制算法：
    复制算法就是只把某个空间的活动对象复制到其他空间。
    将一个内存空间分为两部分，一部分是From空间，另一部分是To空间，将From空间里面的活动对象复制到To空间，然后释放掉整个From空间，然后此刻将From空间和To空间的身份互换，那么就完成了一次GC。

# JS事件机制（冒泡和捕获）






